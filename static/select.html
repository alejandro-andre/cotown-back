<html>
<head>
<script>
  function do_select() {
    var pairs = location.hash.substring(1).split('&');
    var fragment = {};
    pairs.forEach(function(pair) {
      pair = pair.split('=');
      fragment[pair[0]] = decodeURIComponent(pair[1] || '');
    });
    const hashParams = {
      entity: fragment['entity'],
      entityId: parseInt(fragment['entityId'], 10),
      attribute: fragment['attribute'],
      value: [document.getElementById("sel-name").value, document.getElementById("sel-name").value]
    }
    console.log(window.opener);
    window.opener.postMessage(hashParams, "*");
    window.close();
  }
</script>
</head>

<body>
  <input id="sel-name" type="text" value="ART030.AT.00.H02">
  <button onclick="do_select();">Seleccionar</button>
</body>

</html>